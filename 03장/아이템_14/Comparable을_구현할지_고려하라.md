# Comparble을 구현할지 고려하라

Comparable 인터페이스의 유일무이한 메서드인 compareTo 메서드. 

### equals와 비슷하나 2가지가 다르다.

1. compareTo는 단순 동치성 비교에 더해 순서까지 비교할 수 있다.
2. 제네릭하다. → 프로그래밍에서 특정 데이터 타입에 의존하지 않고, 다양한 데이터 타입을 다룰 수 있도록 설계된 코드. (ex public class Person implements Comparable<Person> → 이렇게 하면 Person 객체들 간의 비교만을 허용하게 됨.)
    - 즉 equals는 매개변수가 Object라서 어떤 객체든 받을 수 있는데, 이 점이 런타임 오류를 발생시킬 수도 있다.
    - 그러나 compareTo(T)에서 제한한다는 것은 컴파일 시점에서 타입체크를 하기에 애초에 잘못된 타입을 사용하는 것을 방지할 수 있다는 것.
3. 자바 플랫폼 라이브러리의 모든 값 클래스, 열거 타입은 모두 Compareable을 구현하고 있다.

**Comparable을 구현했다는 것은 그 클래스의 인스턴스들에게 자연적인 순서가 있음을 뜻한다. 따라서 Comparable 인터페이스는 객체들을 순서대로 정렬할 수 있도록 한다.** 

**이 인터페이스를 구현하는 클래스는 compareTo 메서드를 오버라이드 해야하며 이 메서드는 객체 자신과 다른 객체를 비교하여 정렬 순서를 결정하는데 사용된다.**

### compareTo 메서드의 일반 규약

1. **호출 결과의 부호는 첫 번째 객체가 두 번째 객체보다 작은지, 같은지, 큰지를 나타낸다.**
    - compareTo가 반환하는 값이 0보다 작으면, 첫 번째 객체가 두 번째 객체보다 작다는 것을 의미한다.
    - compareTo가 반환하는 값이 0이면, 두 객체는 동일하다는 것을 의미한다.
    - compareTo가 반환하는 값이 0보다 크면, 첫 번째 객체가 두 번째 객체보다 크다는 것을 의미한다.

1. 두 객체 참조의 순서를 바꿔 비교해도 예상한 결과가 나와야 한다.
    - x<y 면 y>x 다.
    - x == y 면 y == x 이다.
    - x > y 면 y < x다.

1. 첫 번째가 두 번째보다 크고 두 번째가 세 번째보다 크면, 첫 번째는 세 번째보다 커야한다.
    - x > y이고 y> z면 x>z 이다.

1. 크기가 같은 객체들끼리는 어떤 객체와 비교하더라도 항상 같아야 한다.
    - 객체와 매개변수로 들어온 객체의 타입이 다르다면 `ClassCastException` 을 반환한다.

1. 두 객체가 compareTo로 0을 반환할 경우 equals 메서드에서 true를 반환해야 한다.
    - 필수 권고는 아니다만, 꼭 지키는 것이 좋다.
        - 이유는 컬렉션에 넣으면 해당 컬렉션이 구현한 인터페이스에 정의한 동작과 엇박자를 낼 수 있다.
    - 반대로 equals가 true를 반환하더라도 compareTo가 0을 반환할 필요는 없다. ( compareTo는 equals보다 더 세밀한 비교를 제공할 수 있음.)
    - 

compareTo 메서드를 재정의시 관계 연산자 ‘<’와 ‘>’를 사용하면 안된다.

앞서 말했 듯이, 값의 차를 기준으로 첫 번째 값과 두 번째 값을 크기로만 비교할 경우에는 정수 오버플로나 부동소수점 계산 방식에 따른 오류가 발생할 수 있기 때문이다.

- 알파벳, 숫자, 연대 같이 순서가 명확한 값 클래스를 작성한다면 반드시 Comparable 인터페이스를 구현하자.
- `compareTo` 메서드에서 필드의 값을 비교할 때 `<` 와 `>` 연산자는 쓰지 말아야 한다. 그 대신 박싱된 기본 타입 클래스가 제공하는 `정적 compare` 메서드나 `Comparator` 인터페이스가 제공하는 비교자 생성 메서드를 사용하자.
- 두 값의 차이로 비교값을 사용하지 말자.
